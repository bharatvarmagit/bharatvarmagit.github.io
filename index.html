<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
    function myFunction(){
    const iframe = document.createElement("iframe");

    function iframeStyles(styleString) {
    const style = document.createElement('style');
    style.textContent = styleString;
    document.head.append(style);
    }

    iframeStyles(".chat-frame {position: fixed;bottom: 12px;right: 12px;border: none;}")

    iframe.src = "https://chatbot.coolify.tap.health/chatbot"
    iframe.classList.add('chat-frame')
    document.body.appendChild(iframe)

    window.addEventListener("message", (e) => {
        if(e.origin !== "https://chatbot.coolify.tap.health") return null
        let dimensions = JSON.parse(e.data)
        console.log("dimensionsare",dimensions)
        iframe.width = dimensions.width
        iframe.height = dimensions.height
        iframe.contentWindow.postMessage("f5f665aa-cbcb-496c-9651-847b6a832aeb", "https://chatbot.coolify.tap.health")
    })
    }


    </script>
    
</head>
<body>

</iframe>
<h1>My First Heading !</h1>
<p>My first paragraph.</p>
<button type="button" onclick="myFunction()">Try it</button>

</body>
</html>







